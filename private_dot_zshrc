# --- Zimfw home siempre en $HOME ---
export ZIM_HOME="$HOME/.zim"

# --- Buscar automáticamente zimfw.zsh ---
if [[ -f /opt/homebrew/opt/zimfw/share/zimfw.zsh ]]; then
  # macOS Apple Silicon (brew)
  source /opt/homebrew/opt/zimfw/share/zimfw.zsh

elif [[ -f /usr/local/opt/zimfw/share/zimfw.zsh ]]; then
  # macOS Intel (brew)
  source /usr/local/opt/zimfw/share/zimfw.zsh

elif [[ -f /usr/share/zimfw/zimfw.zsh ]]; then
  # Linux (paquetes del sistema)
  source /usr/share/zimfw/zimfw.zsh

elif command -v zimfw >/dev/null; then
  # Linux / otros (instalador oficial)
  source "$(command -v zimfw)"

else
  echo "⚠️ zimfw no encontrado. Ejecuta el instalador."
fi

# --- Cargar la config generada ---
source "$ZIM_HOME/init.zsh"


# https://unix.stackexchange.com/a/389883
# Bash and zsh have different defaults. Zsh doesn't save the history to a file by default.
# MacOS comes with a system configuration file (/etc/zshrc) that sets
# up a few things including a slightly fancier prompt and per-terminal history.
HISTFILE=~/.zsh_history
HISTSIZE=10000
SAVEHIST=10000
setopt appendhistory

# Guardar timestamp (epoch) en el historial
setopt EXTENDED_HISTORY

# Formato de fecha al mostrar history (no afecta al archivo)
HIST_STAMPS="yyyy-mm-dd"

# eval "$(fnm env --use-on-cd --shell zsh)"

bindkey '^[[A' history-substring-search-up
bindkey '^[[B' history-substring-search-down

export PATH="$HOME/.asdf/shims:$HOME/.asdf/bin:$PATH"
export PATH=$PATH:~/.local/bin

